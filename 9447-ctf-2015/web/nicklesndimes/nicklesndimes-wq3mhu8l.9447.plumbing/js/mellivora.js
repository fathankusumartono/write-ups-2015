function initialiseLoginDialog(){$("#login-dialog").on("shown.bs.modal",function(i){$("#login-dialog").find("input").first().focus()})}function highlightSelectedMenuItem(){for(var i=window.location.pathname,t=document.querySelectorAll('.nav a[href*="'+i+'"]'),n=0;n<t.length;n++)t[n]&&t[n].parentNode&&(t[n].parentNode.className="active")}function highlightLoggedOnTeamName(){$(".team_"+global_dict.user_id).addClass("label label-info")}function initialiseCountdowns(){var i=$("[data-countdown]"),t=$("[data-countdown]").length;t&&setInterval(function(){i.each(function(){var i=$(this),t=i.data("countdown"),n=new Date(1e3*t),o=Math.floor((n.getTime()-Date.now())/1e3),e=i.attr("data-countdown-done")||"No time remaining",a=0>=o?e:prettyPrintTime(o);i.text(a)})},1e3)}function initialiseTooltips(){$(".has-tooltip").tooltip()}function setFormSubmissionBehaviour(){$("form").on("submit",function(i){$("button").prop("disabled",!0)})}function pluralise(i,t){return i?i+" "+t+(i>1?"s":""):""}function whitelist_ip(i,t){$.post("admin/actions/new_ip_whitelist",{action:"new",user_id:i,ip:t})}function prettyPrintTime(i){i=Math.floor(i);var t=Math.floor(i/60),n=Math.floor(t/60),o=Math.floor(n/24),e=pluralise(o,"day"),a=pluralise(n%24,"hour"),l=pluralise(t%60,"minute"),u=pluralise(i%60,"second"),s=[];return e&&s.push(e),a&&s.push(a),l&&s.push(l),u&&s.push(u),s.join(", ")+" remaining"}$(document).ready(function(){highlightSelectedMenuItem(),highlightLoggedOnTeamName(),initialiseLoginDialog(),initialiseTooltips(),initialiseCountdowns(),setFormSubmissionBehaviour()});