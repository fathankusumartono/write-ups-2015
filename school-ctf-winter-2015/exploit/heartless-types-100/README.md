# School CTF Winter 2015: Heartless types

**Category:** Exploit
**Points:** 100
**Solves:** 
**Description:**

> Sometimes a good password can become absolutely useless.
> 
> 
> nc sibears.ru 10013
> 
> 
> nc sibears.ru 12013
> 
> 
> nc sibears.ru 13013
> 
> 
> [Sources](./task14_9fded4da07a1fa9a571bd035093b043a5f3b514b.c)


## Write-up

<div><h3>Heartless types</h3><p>The only way to get the flag without knowing password is to never enter the loop which checks it. To accomplish it we need <code>min_len</code> equal to <code>0</code>.</p>
<p>From the program text above we know that <code>min_len</code> is the minimum of <code>strlen(stored_pass) + 1</code> and <code>++password_len</code> with <code>password_len</code> input by you. </p>
<p>Knowing that you need to make <code>password_len + 1</code> equal to <code>0</code>, which means that <code>password_len</code> has to be equal to <code>-1</code>. Or according to the variable type, equal to <code>255</code>.</p>
<p>So you only need to send <code>255</code> to server and then send <code>255</code> random letters, which can be accomplished with a simple python script, e.g. </p>
<p><code>python -c 'print "255\n"+"a"*255' | nc &lt;host&gt; &lt;port&gt;</code> and get the flag.</p></div>

## Other write-ups and resources

* none yet
